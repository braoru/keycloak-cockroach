[#1]

- Remove the changeset 3.2.0-fixed_sub_1 to 3.2.0-fixed_sub_3, which contain the following :

    <changeSet id="3.2.0-fixed_sub_1" author="keycloak" runInTransaction="true">
        <preConditions onFail="MARK_RAN">
            <not>
                <changeSetExecuted id="3.2.0" author="keycloak" changeLogFile="META-INF/jpa-changelog-3.2.0.xml"/>
            </not>
        </preConditions>
        <dropPrimaryKey constraintName="CONSTRAINT_OFFL_CL_SES_PK2" tableName="OFFLINE_CLIENT_SESSION"/>
    </changeSet>
    <changeSet id="3.2.0-fixed_sub_2" author="keycloak" runInTransaction="true">
        <preConditions onFail="MARK_RAN">
            <not>
                <changeSetExecuted id="3.2.0" author="keycloak" changeLogFile="META-INF/jpa-changelog-3.2.0.xml"/>
            </not>
        </preConditions>
        <dropColumn columnName="CLIENT_SESSION_ID" tableName="OFFLINE_CLIENT_SESSION"/>
    </changeSet>
    <changeSet id="3.2.0-fixed_sub_3" author="keycloak" runInTransaction="true">
        <preConditions onFail="MARK_RAN">
            <not>
                <changeSetExecuted id="3.2.0" author="keycloak" changeLogFile="META-INF/jpa-changelog-3.2.0.xml"/>
            </not>
        </preConditions>
        <addPrimaryKey columnNames="USER_SESSION_ID,CLIENT_ID, OFFLINE_FLAG" constraintName="CONSTRAINT_OFFL_CL_SES_PK3" tableName="OFFLINE_CLIENT_SESSION"/>
    </changeSet>

- Add those changesets instead :

	<changeSet id="3.2.0-fixed_sub_1a" author="keycloak">
        <preConditions onFail="MARK_RAN">
            <not>
                <changeSetExecuted id="3.2.0" author="keycloak" changeLogFile="META-INF/jpa-changelog-3.2.0.xml"/>
            </not>
        </preConditions>
        <createTable tableName="OFFLINE_CLIENT_SESSION_2">
            <column name="USER_SESSION_ID" type="VARCHAR(36)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_OFFL_CL_SES_PK3"/>
            </column>
            <column name="CLIENT_ID" type="VARCHAR(36)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_OFFL_CL_SES_PK3"/>
            </column>
            <column name="OFFLINE_FLAG" type="VARCHAR(4)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="CONSTRAINT_OFFL_CL_SES_PK3"/>
            </column>
            <column name="TIMESTAMP" type="INT"/>
            <column name="DATA" type="CLOB"/>
        </createTable>
	</changeSet>	
	<changeSet id="3.2.0-fixed_sub_1b" author="keycloak">
        <preConditions onFail="MARK_RAN">
            <not>
                <changeSetExecuted id="3.2.0" author="keycloak" changeLogFile="META-INF/jpa-changelog-3.2.0.xml"/>
            </not>
        </preConditions>
        <sql>insert into OFFLINE_CLIENT_SESSION_2 (USER_SESSION_ID,CLIENT_ID,OFFLINE_FLAG,TIMESTAMP,DATA) select USER_SESSION_ID,CLIENT_ID,OFFLINE_FLAG,TIMESTAMP,DATA from OFFLINE_CLIENT_SESSION</sql>
	</changeSet>
	<changeSet id="3.2.0-fixed_sub_1c" author="keycloak">
        <preConditions onFail="MARK_RAN">
            <not>
                <changeSetExecuted id="3.2.0" author="keycloak" changeLogFile="META-INF/jpa-changelog-3.2.0.xml"/>
            </not>
        </preConditions>
        <dropTable tableName="OFFLINE_CLIENT_SESSION"/>
	</changeSet>
	<changeSet id="3.2.0-fixed_sub_1d" author="keycloak">
        <preConditions onFail="MARK_RAN">
            <not>
                <changeSetExecuted id="3.2.0" author="keycloak" changeLogFile="META-INF/jpa-changelog-3.2.0.xml"/>
            </not>
        </preConditions>
        <renameTable oldTableName="OFFLINE_CLIENT_SESSION_2" newTableName="OFFLINE_CLIENT_SESSION"/>
	</changeSet>
	<changeSet id="3.2.0-fixed_sub_1e" author="keycloak">
        <preConditions onFail="MARK_RAN">
            <not>
                <changeSetExecuted id="3.2.0" author="keycloak" changeLogFile="META-INF/jpa-changelog-3.2.0.xml"/>
            </not>
        </preConditions>
        <createIndex tableName="OFFLINE_CLIENT_SESSION" indexName="IDX_US_SESS_ID_ON_CL_SESS">
            <column name="USER_SESSION_ID" type="VARCHAR(36)"/>
        </createIndex>
	</changeSet>